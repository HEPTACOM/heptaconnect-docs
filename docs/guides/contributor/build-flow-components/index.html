
<!doctype html>
<html lang="en"class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport"content="width=device-width,initial-scale=1">
<link rel="icon"href="../../../assets/favicon/favicon-32x32.png">
<title>Build flow components - HEPTAconnect</title>
<link rel="stylesheet"href="../../../assets/stylesheets/main.26e3688c.min.css">
<link rel="stylesheet"href="../../../assets/stylesheets/palette.ecc896b0.min.css">
<link rel="stylesheet"href="../../../assets/app.css?break=8dad1a720072b117f41b57fe3958bd6e">
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<script>
(sessionStorage || window.sessionStorage).setItem('/.__source', JSON.stringify({
  "stars": 114,
  "forks": 4,
  "repositories": 13
}));
</script>
<link rel="apple-touch-icon"sizes="180x180"href="/assets/favicon/apple-touch-icon.png">
<link rel="icon"type="image/png"sizes="32x32"href="/assets/favicon/favicon-32x32.png">
<link rel="icon"type="image/png"sizes="16x16"href="/assets/favicon/favicon-16x16.png">
<link rel="manifest"href="/assets/favicon/site.webmanifest">
<link rel="mask-icon"href="/assets/favicon/safari-pinned-tab.svg"color="#3c3c3c">
<meta name="msapplication-TileColor"content="#c3c3c3">
<meta name="theme-color"content="#c3c3c3">
<link rel="alternate"type="application/atom+xml"title="HEPTAconnect - Atom Feed"href="/news/atom1.xml">
<link rel="alternate"type="application/json"title="HEPTAconnect - JSON Feed"href="/news/json1.json">
<link rel="alternate"type="application/rss+xml"title="HEPTAconnect - RSS2 Feed"href="/news/rss2.xml">
</head>
<body dir="ltr"class="hc-role-contributor"data-md-color-scheme="default"data-md-color-primary=""data-md-color-accent="">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input class="md-toggle"data-md-toggle="drawer"type="checkbox"id="__drawer"autocomplete="off">
<input class="md-toggle"data-md-toggle="search"type="checkbox"id="__search"autocomplete="off">
<label class="md-overlay"for="__drawer"></label>
<div data-md-component="skip">
<a href="#building-flow-components"class="md-skip">
</a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header"data-md-component="header">
<nav class="md-header__inner md-grid"aria-label="Header">
<a href="../../.."title="HEPTAconnect"class="md-header__button md-logo"aria-label="HEPTAconnect"data-md-component="logo">
<img src="../../../assets/gfx/heptaconnect-icon.svg"alt="logo">
</a>
<label class="md-header__button md-icon"for="__drawer">
<svg xmlns="http://www.w3.org/2000/svg"viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
</label>
<div class="md-header__title"data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
HEPTAconnect
</span>
</div>
<div class="md-header__topic"data-md-component="header-topic">
<span class="md-ellipsis">
Build flow components
</span>
</div>
</div>
</div>
<form class="md-header__option"data-md-component="palette">
<input class="md-option"data-md-color-media="(prefers-color-scheme: light)"data-md-color-scheme="default"data-md-color-primary="indigo"data-md-color-accent="indigo"aria-label="Switch to dark mode"type="radio"name="__palette"id="__palette_1">
<label class="md-header__button md-icon"title="Switch to dark mode"for="__palette_2"hidden>
<svg xmlns="http://www.w3.org/2000/svg"viewBox="0 0 576 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M384 128c70.7 0 128 57.3 128 128s-57.3 128-128 128H192c-70.7 0-128-57.3-128-128s57.3-128 128-128h192zm192 128c0-106-86-192-192-192H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192zm-384 96a96 96 0 1 0 0-192 96 96 0 1 0 0 192z"/></svg>
</label>
<input class="md-option"data-md-color-media="(prefers-color-scheme: dark)"data-md-color-scheme="slate"data-md-color-primary="indigo"data-md-color-accent="indigo"aria-label="Switch to light mode"type="radio"name="__palette"id="__palette_2">
<label class="md-header__button md-icon"title="Switch to light mode"for="__palette_1"hidden>
<svg xmlns="http://www.w3.org/2000/svg"viewBox="0 0 576 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M192 64C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64H192zm192 96a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"/></svg>
</label>
</form>
<label class="md-header__button md-icon"for="__search">
<svg xmlns="http://www.w3.org/2000/svg"viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
</label>
<div class="md-search"data-md-component="search"role="dialog">
<label class="md-search__overlay"for="__search"></label>
<div class="md-search__inner"role="search">
<form class="md-search__form"name="search">
<input type="text"class="md-search__input"name="query"aria-label="Search"placeholder="Search"autocapitalize="off"autocorrect="off"autocomplete="off"spellcheck="false"data-md-component="search-query"required>
<label class="md-search__icon md-icon"for="__search">
<svg xmlns="http://www.w3.org/2000/svg"viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
<svg xmlns="http://www.w3.org/2000/svg"viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
</label>
<nav class="md-search__options"aria-label="Search">
<button type="reset"class="md-search__icon md-icon"title="Clear"aria-label="Clear"tabindex="-1">
<svg xmlns="http://www.w3.org/2000/svg"viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
</button>
</nav>
<div class="md-search__suggest"data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap"data-md-scrollfix>
<div class="md-search-result"data-md-component="search-result">
<div class="md-search-result__meta">
Initializing search
</div>
<ol class="md-search-result__list"role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a href="https://github.com/topics/heptaconnect"title="Go to repository"class="md-source"data-md-component="source">
<div class="md-source__icon md-icon">
<svg xmlns="http://www.w3.org/2000/svg"viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</div>
<div class="md-source__repository">
HEPTAconnect on GitHub
</div>
</a>
</div>
</nav>
</header>
<div class="md-container"data-md-component="container">
<nav class="md-tabs"aria-label="Tabs"data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a href="../../portal-developer/"class="md-tabs__link">
Portal Developer
</a>
</li>
<li class="md-tabs__item">
<a href="../../integrator/"class="md-tabs__link">
Integrator
</a>
</li>
<li class="md-tabs__item">
<a href="../../administrator/"class="md-tabs__link">
Administrator
</a>
</li>
<li class="md-tabs__item">
<a href="../../playground/"class="md-tabs__link">
Playground
</a>
</li>
<li class="md-tabs__item">
<a href="../"class="md-tabs__link md-tabs__link--active">
Contributor
</a>
</li>
<li class="md-tabs__item">
<a href="../../../reference/"class="md-tabs__link">
Reference
</a>
</li>
<li class="md-tabs__item">
<a href="../../../news/"class="md-tabs__link">
News
</a>
</li>
<li class="md-tabs__item">
<a href="https://www.heptacom.de/heptaconnect/"class="md-tabs__link">
Pricing
</a>
</li>
</ul>
</div>
</nav>
<main class="md-main"data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary"data-md-component="sidebar"data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary md-nav--lifted"aria-label="Navigation"data-md-level="0">
<label class="md-nav__title"for="__drawer">
<a href="../../.."title="HEPTAconnect"class="md-nav__button md-logo"aria-label="HEPTAconnect"data-md-component="logo">
<img src="../../../assets/gfx/heptaconnect-icon.svg"alt="logo">
</a>
HEPTAconnect
</label>
<div class="md-nav__source">
<a href="https://github.com/topics/heptaconnect"title="Go to repository"class="md-source"data-md-component="source">
<div class="md-source__icon md-icon">
<svg xmlns="http://www.w3.org/2000/svg"viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</div>
<div class="md-source__repository">
HEPTAconnect on GitHub
</div>
</a>
</div>
<ul class="md-nav__list"data-md-scrollfix>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle"type="checkbox"id="__nav_1">
<div class="md-nav__link md-nav__link--index">
<a href="../../portal-developer/">Portal Developer</a>
<label for="__nav_1">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav class="md-nav"data-md-level="1"aria-labelledby="__nav_1_label"aria-expanded="false">
<label class="md-nav__title"for="__nav_1">
<span class="md-nav__icon md-icon"></span>
Portal Developer
</label>
<ul class="md-nav__list"data-md-scrollfix>
<li class="md-nav__item">
<a href="../../portal-developer/dataset/"class="md-nav__link">
Dataset
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/portal/"class="md-nav__link">
Portal
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/explorer/"class="md-nav__link">
Explorer
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/emitter/"class="md-nav__link">
Emitter
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/receiver/"class="md-nav__link">
Receiver
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/http-client-middleware/"class="md-nav__link">
HTTP Client Middleware
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/http-handler/"class="md-nav__link">
HTTP Handler
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/http-handler-middleware/"class="md-nav__link">
HTTP Handler Middleware
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/status-reporting/"class="md-nav__link">
Status reporting
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/morphers/"class="md-nav__link">
Morphers
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/key-value-storage/"class="md-nav__link">
Key value storage
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/explorer-decoration/"class="md-nav__link">
Explorer decoration
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/emitter-decoration/"class="md-nav__link">
Emitter decoration
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/receiver-decoration/"class="md-nav__link">
Receiver decoration
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/direct-emission-explorer/"class="md-nav__link">
Direct emission explorer
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/dependency-injection/"class="md-nav__link">
Dependency injection
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/default-utilities/"class="md-nav__link">
Default utilities
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/short-notation-for-flow-components/"class="md-nav__link">
Short notation for flow components
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/upgrade/"class="md-nav__link">
Upgrade
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/file-reference/"class="md-nav__link">
File references
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/filesystem/"class="md-nav__link">
Filesystem
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle"type="checkbox"id="__nav_1_22">
<label class="md-nav__link"for="__nav_1_22"id="__nav_1_22_label"tabindex="0">
Patterns
<span class="md-nav__icon md-icon"></span>
</label>
<nav class="md-nav"data-md-level="2"aria-labelledby="__nav_1_22_label"aria-expanded="false">
<label class="md-nav__title"for="__nav_1_22">
<span class="md-nav__icon md-icon"></span>
Patterns
</label>
<ul class="md-nav__list"data-md-scrollfix>
<li class="md-nav__item">
<a href="../../portal-developer/patterns/transfer-file-reference-by-public-url/"class="md-nav__link">
Transfer file reference by public URL
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/patterns/transfer-files-from-ftp-server/"class="md-nav__link">
Send files from an FTP server
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/patterns/list-files-from-filesystem/"class="md-nav__link">
List files from filesystem
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/patterns/serve-file-from-filesystem-using-http-handler/"class="md-nav__link">
Serve a file from filesystem using HTTP handler
</a>
</li>
<li class="md-nav__item">
<a href="../../portal-developer/patterns/http-client-middleware-dumping-on-bad-request/"class="md-nav__link">
Client Middleware dumping bad request HTTP messages
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle"type="checkbox"id="__nav_1_23">
<label class="md-nav__link"for="__nav_1_23"id="__nav_1_23_label"tabindex="0">
Services
<span class="md-nav__icon md-icon"></span>
</label>
<nav class="md-nav"data-md-level="2"aria-labelledby="__nav_1_23_label"aria-expanded="false">
<label class="md-nav__title"for="__nav_1_23">
<span class="md-nav__icon md-icon"></span>
Services
</label>
<ul class="md-nav__list"data-md-scrollfix>
<li class="md-nav__item">
<a href="../../../reference/portal-developer/service/filesystem-interface/"class="md-nav__link">
FilesystemInterface
</a>
</li>
<li class="md-nav__item">
<a href="../../../reference/portal-developer/service/http-client-contract/"class="md-nav__link">
HttpClientContract
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle"type="checkbox"id="__nav_2">
<div class="md-nav__link md-nav__link--index">
<a href="../../integrator/">Integrator</a>
<label for="__nav_2">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav class="md-nav"data-md-level="1"aria-labelledby="__nav_2_label"aria-expanded="false">
<label class="md-nav__title"for="__nav_2">
<span class="md-nav__icon md-icon"></span>
Integrator
</label>
<ul class="md-nav__list"data-md-scrollfix>
<li class="md-nav__item">
<a href="../../integrator/portals/"class="md-nav__link">
Portals
</a>
</li>
<li class="md-nav__item">
<a href="../../integrator/bridges/"class="md-nav__link">
Bridges
</a>
</li>
<li class="md-nav__item">
<a href="../../integrator/message-brokers/"class="md-nav__link">
Message broking
</a>
</li>
<li class="md-nav__item">
<a href="../../integrator/filesystem/"class="md-nav__link">
Filesystem
</a>
</li>
<li class="md-nav__item">
<a href="../../integrator/http-handlers/"class="md-nav__link">
HTTP Handlers
</a>
</li>
<li class="md-nav__item">
<a href="../../integrator/portal-node-configuration/"class="md-nav__link">
Portal node configuration
</a>
</li>
<li class="md-nav__item">
<a href="../../integrator/logging/"class="md-nav__link">
Logging
</a>
</li>
<li class="md-nav__item">
<a href="../../integrator/upgrade/"class="md-nav__link">
Upgrade
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle"type="checkbox"id="__nav_2_9">
<label class="md-nav__link"for="__nav_2_9"id="__nav_2_9_label"tabindex="0">
Patterns
<span class="md-nav__icon md-icon"></span>
</label>
<nav class="md-nav"data-md-level="2"aria-labelledby="__nav_2_9_label"aria-expanded="false">
<label class="md-nav__title"for="__nav_2_9">
<span class="md-nav__icon md-icon"></span>
Patterns
</label>
<ul class="md-nav__list"data-md-scrollfix>
<li class="md-nav__item">
<a href="../../integrator/patterns/filesystem-change-for-specific-portal-node/"class="md-nav__link">
Change the filesystem for a specific portal node
</a>
</li>
<li class="md-nav__item">
<a href="../../integrator/patterns/http-handler-dump-format-to-curl-shell-scripts/"class="md-nav__link">
Change dump format for HTTP handler to cURL shell
</a>
</li>
<li class="md-nav__item">
<a href="../../integrator/patterns/http-handler-dump-with-spx-trigger/"class="md-nav__link">
Use SPX as trigger for HTTP handler dumps
</a>
</li>
<li class="md-nav__item">
<a href="../../integrator/patterns/http-handler-dump-with-xdebug-trigger/"class="md-nav__link">
Use Xdebug as trigger for HTTP handler dumps
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle"type="checkbox"id="__nav_3">
<div class="md-nav__link md-nav__link--index">
<a href="../../administrator/">Administrator</a>
<label for="__nav_3">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav class="md-nav"data-md-level="1"aria-labelledby="__nav_3_label"aria-expanded="false">
<label class="md-nav__title"for="__nav_3">
<span class="md-nav__icon md-icon"></span>
Administrator
</label>
<ul class="md-nav__list"data-md-scrollfix>
<li class="md-nav__item">
<a href="../../administrator/portal-node/"class="md-nav__link">
Portal node
</a>
</li>
<li class="md-nav__item">
<a href="../../administrator/routing/"class="md-nav__link">
Route
</a>
</li>
<li class="md-nav__item">
<a href="../../administrator/status-reporting/"class="md-nav__link">
Status reporting
</a>
</li>
<li class="md-nav__item">
<a href="../../administrator/http-apis/"class="md-nav__link">
HTTP APIs
</a>
</li>
<li class="md-nav__item">
<a href="../../administrator/filesystem/"class="md-nav__link">
Filesystem
</a>
</li>
<li class="md-nav__item">
<a href="../../administrator/logs/"class="md-nav__link">
Logs
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle"type="checkbox"id="__nav_4">
<div class="md-nav__link md-nav__link--index">
<a href="../../playground/">Playground</a>
<label for="__nav_4">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav class="md-nav"data-md-level="1"aria-labelledby="__nav_4_label"aria-expanded="false">
<label class="md-nav__title"for="__nav_4">
<span class="md-nav__icon md-icon"></span>
Playground
</label>
<ul class="md-nav__list"data-md-scrollfix>
<li class="md-nav__item">
<a href="../../playground/add-portals/"class="md-nav__link">
Add portals
</a>
</li>
<li class="md-nav__item">
<a href="../../playground/contribution/"class="md-nav__link">
Contribution
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input class="md-nav__toggle md-toggle"type="checkbox"id="__nav_5"checked="checked">
<div class="md-nav__link md-nav__link--index">
<a href="../">Contributor</a>
<label for="__nav_5">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav class="md-nav"data-md-level="1"aria-labelledby="__nav_5_label"aria-expanded="true">
<label class="md-nav__title"for="__nav_5">
<span class="md-nav__icon md-icon"></span>
Contributor
</label>
<ul class="md-nav__list"data-md-scrollfix>
<li class="md-nav__item">
<a href="../changelog/"class="md-nav__link">
Writing changelogs
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle"type="checkbox"id="__toc">
<label class="md-nav__link md-nav__link--active"for="__toc">
Build flow components
<span class="md-nav__icon md-icon"></span>
</label>
<a href="./"class="md-nav__link md-nav__link--active">
Build flow components
</a>
<nav class="md-nav md-nav--secondary"aria-label="Table of contents">
<label class="md-nav__title"for="__toc">
<span class="md-nav__icon md-icon"></span>
Table of contents
</label>
<ul class="md-nav__list"data-md-component="toc"data-md-scrollfix>
<li class="md-nav__item">
<a href="#preparation"class="md-nav__link">
Preparation
</a>
<nav class="md-nav"aria-label="Preparation">
<ul class="md-nav__list">
<li class="md-nav__item">
<a href="#situation"class="md-nav__link">
Situation
</a>
</li>
<li class="md-nav__item">
<a href="#pattern-detection"class="md-nav__link">
Pattern detection
</a>
</li>
<li class="md-nav__item">
<a href="#feature-isolation-and-exclusiveness"class="md-nav__link">
Feature isolation and exclusiveness
</a>
</li>
<li class="md-nav__item">
<a href="#introducing-the-new-flow-component"class="md-nav__link">
Introducing the new flow component
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a href="#common-implementation"class="md-nav__link">
Common implementation
</a>
<nav class="md-nav"aria-label="Common implementation">
<ul class="md-nav__list">
<li class="md-nav__item">
<a href="#stack"class="md-nav__link">
Stack
</a>
</li>
<li class="md-nav__item">
<a href="#stack-building"class="md-nav__link">
Stack building
</a>
</li>
<li class="md-nav__item">
<a href="#call-decoration"class="md-nav__link">
Call decoration
</a>
</li>
<li class="md-nav__item">
<a href="#context"class="md-nav__link">
Context
</a>
</li>
<li class="md-nav__item">
<a href="#flow-component-contract-class"class="md-nav__link">
Flow component contract class
</a>
</li>
<li class="md-nav__item">
<a href="#short-notation"class="md-nav__link">
Short notation
</a>
</li>
<li class="md-nav__item">
<a href="#code-origin-finder"class="md-nav__link">
Code origin finder
</a>
</li>
<li class="md-nav__item">
<a href="#portal-node-container"class="md-nav__link">
Portal node container
</a>
</li>
<li class="md-nav__item">
<a href="#flow-component-registry"class="md-nav__link">
Flow component registry
</a>
</li>
<li class="md-nav__item">
<a href="#factory"class="md-nav__link">
Factory
</a>
</li>
<li class="md-nav__item">
<a href="#actor"class="md-nav__link">
Actor
</a>
</li>
<li class="md-nav__item">
<a href="#service"class="md-nav__link">
Service
</a>
</li>
<li class="md-nav__item">
<a href="#jobs"class="md-nav__link">
Jobs
</a>
</li>
<li class="md-nav__item">
<a href="#job-handling"class="md-nav__link">
Job handling
</a>
</li>
<li class="md-nav__item">
<a href="#route-capability-usage"class="md-nav__link">
Route capability usage
</a>
</li>
<li class="md-nav__item">
<a href="#admin-ui"class="md-nav__link">
Admin UI
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a href="#summary"class="md-nav__link">
Summary
</a>
<nav class="md-nav"aria-label="Summary">
<ul class="md-nav__list">
<li class="md-nav__item">
<a href="#portal-base"class="md-nav__link">
Portal base
</a>
</li>
<li class="md-nav__item">
<a href="#core"class="md-nav__link">
Core
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a href="../build-storage-actions/"class="md-nav__link">
Build storage actions
</a>
</li>
<li class="md-nav__item">
<a href="../cla/"class="md-nav__link">
Contributor License Agreement
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle"type="checkbox"id="__nav_6">
<label class="md-nav__link"for="__nav_6"id="__nav_6_label"tabindex="0">
Reference
<span class="md-nav__icon md-icon"></span>
</label>
<nav class="md-nav"data-md-level="1"aria-labelledby="__nav_6_label"aria-expanded="false">
<label class="md-nav__title"for="__nav_6">
<span class="md-nav__icon md-icon"></span>
Reference
</label>
<ul class="md-nav__list"data-md-scrollfix>
<li class="md-nav__item">
<a href="../../../reference/"class="md-nav__link">
Overview
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle"type="checkbox"id="__nav_6_2">
<label class="md-nav__link"for="__nav_6_2"id="__nav_6_2_label"tabindex="0">
General resources
<span class="md-nav__icon md-icon"></span>
</label>
<nav class="md-nav"data-md-level="2"aria-labelledby="__nav_6_2_label"aria-expanded="false">
<label class="md-nav__title"for="__nav_6_2">
<span class="md-nav__icon md-icon"></span>
General resources
</label>
<ul class="md-nav__list"data-md-scrollfix>
<li class="md-nav__item">
<a href="../../../reference/general-resources/package-structure/"class="md-nav__link">
Package structure
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle"type="checkbox"id="__nav_6_2_2">
<div class="md-nav__link md-nav__link--index">
<a href="../../../reference/general-resources/data-flow/">Data flow</a>
<label for="__nav_6_2_2">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav class="md-nav"data-md-level="3"aria-labelledby="__nav_6_2_2_label"aria-expanded="false">
<label class="md-nav__title"for="__nav_6_2_2">
<span class="md-nav__icon md-icon"></span>
Data flow
</label>
<ul class="md-nav__list"data-md-scrollfix>
<li class="md-nav__item">
<a href="../../../reference/general-resources/data-flows/basic-flow/"class="md-nav__link">
Basic flow
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a href="../../../reference/general-resources/mapping/"class="md-nav__link">
Mapping
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle"type="checkbox"id="__nav_6_3">
<label class="md-nav__link"for="__nav_6_3"id="__nav_6_3_label"tabindex="0">
ADRs
<span class="md-nav__icon md-icon"></span>
</label>
<nav class="md-nav"data-md-level="2"aria-labelledby="__nav_6_3_label"aria-expanded="false">
<label class="md-nav__title"for="__nav_6_3">
<span class="md-nav__icon md-icon"></span>
ADRs
</label>
<ul class="md-nav__list"data-md-scrollfix>
<li class="md-nav__item">
<a href="../../../reference/adr/2020-01-27-telemetry-recording/"class="md-nav__link">
Telemetry recording
</a>
</li>
<li class="md-nav__item">
<a href="../../../reference/adr/2020-04-30-contracts-and-interfaces/"class="md-nav__link">
Contracts and interfaces
</a>
</li>
<li class="md-nav__item">
<a href="../../../reference/adr/2020-08-10-architecture-decision-records/"class="md-nav__link">
Architecture decision records
</a>
</li>
<li class="md-nav__item">
<a href="../../../reference/adr/2020-08-28-parallelization-locks/"class="md-nav__link">
Parallelization locks
</a>
</li>
<li class="md-nav__item">
<a href="../../../reference/adr/2020-10-15-portal-status-reporters/"class="md-nav__link">
Portal status reporters
</a>
</li>
<li class="md-nav__item">
<a href="../../../reference/adr/2020-10-30-job-messages-and-payload/"class="md-nav__link">
Job messages and payload
</a>
</li>
<li class="md-nav__item">
<a href="../../../reference/adr/2020-12-10-portal-service-container/"class="md-nav__link">
Portal service container
</a>
</li>
<li class="md-nav__item">
<a href="../../../reference/adr/2021-02-03-direct-emission-exploration/"class="md-nav__link">
Direct emission exploration
</a>
</li>
<li class="md-nav__item">
<a href="../../../reference/adr/2021-04-13-portal-dependency-injection-implementation/"class="md-nav__link">
Portal dependency injection implementation
</a>
</li>
<li class="md-nav__item">
<a href="../../../reference/adr/2021-06-17-flow-component-short-notation/"class="md-nav__link">
Flow component short notation
</a>
</li>
<li class="md-nav__item">
<a href="../../../reference/adr/2021-08-24-php-8-named-arguments/"class="md-nav__link">
PHP 8.0 named arguments
</a>
</li>
<li class="md-nav__item">
<a href="../../../reference/adr/2021-09-06-exception-and-log-message-codes/"class="md-nav__link">
Exception and log message codes
</a>
</li>
<li class="md-nav__item">
<a href="../../../reference/adr/2021-09-25-optimized-storage-actions/"class="md-nav__link">
Optimized storage actions
</a>
</li>
<li class="md-nav__item">
<a href="../../../reference/adr/2021-10-29-flow-components-are-not-crud/"class="md-nav__link">
Flow components are not CRUD
</a>
</li>
<li class="md-nav__item">
<a href="../../../reference/adr/2021-10-30-route-capabilities/"class="md-nav__link">
Route capabilities
</a>
</li>
<li class="md-nav__item">
<a href="../../../reference/adr/2022-01-05-code-documentation/"class="md-nav__link">
Code documentation
</a>
</li>
<li class="md-nav__item">
<a href="../../../reference/adr/2022-01-24-semver-with-generation-version/"class="md-nav__link">
SemVer with generation version
</a>
</li>
<li class="md-nav__item">
<a href="../../../reference/adr/2022-03-02-final-classes/"class="md-nav__link">
Final classes
</a>
</li>
<li class="md-nav__item">
<a href="../../../reference/adr/2022-06-12-type-safe-class-strings/"class="md-nav__link">
Type safe class strings
</a>
</li>
<li class="md-nav__item">
<a href="../../../reference/adr/2022-10-06-filesystem-stream-wrapper/"class="md-nav__link">
Filesystem abstraction with stream wrapper
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a href="../../../reference/glossary/"class="md-nav__link">
Glossary
</a>
</li>
<li class="md-nav__item">
<a href="../../../reference/license/"class="md-nav__link">
License
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle"type="checkbox"id="__nav_7">
<label class="md-nav__link"for="__nav_7"id="__nav_7_label"tabindex="0">
News
<span class="md-nav__icon md-icon"></span>
</label>
<nav class="md-nav"data-md-level="1"aria-labelledby="__nav_7_label"aria-expanded="false">
<label class="md-nav__title"for="__nav_7">
<span class="md-nav__icon md-icon"></span>
News
</label>
<ul class="md-nav__list"data-md-scrollfix>
<li class="md-nav__item">
<a href="../../../news/"class="md-nav__link">
Blog
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle"type="checkbox"id="__nav_7_2">
<div class="md-nav__link md-nav__link--index">
<a href="../../../releases/">Release</a>
<label for="__nav_7_2">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav class="md-nav"data-md-level="2"aria-labelledby="__nav_7_2_label"aria-expanded="false">
<label class="md-nav__title"for="__nav_7_2">
<span class="md-nav__icon md-icon"></span>
Release
</label>
<ul class="md-nav__list"data-md-scrollfix>
<li class="md-nav__item">
<a href="../../../releases/upcoming/"class="md-nav__link">
Upcoming
</a>
</li>
<li class="md-nav__item">
<a href="../../../releases/changelog-bridge-shopware-platform/"class="md-nav__link">
Bridge Shopware Platform
</a>
</li>
<li class="md-nav__item">
<a href="../../../releases/changelog-core/"class="md-nav__link">
Core
</a>
</li>
<li class="md-nav__item">
<a href="../../../releases/changelog-dataset-base/"class="md-nav__link">
Dataset base
</a>
</li>
<li class="md-nav__item">
<a href="../../../releases/changelog-dataset-ecommerce/"class="md-nav__link">
Dataset ecommerce
</a>
</li>
<li class="md-nav__item">
<a href="../../../releases/changelog-portal-base/"class="md-nav__link">
Portal base
</a>
</li>
<li class="md-nav__item">
<a href="../../../releases/changelog-portal-local-shopware-platform/"class="md-nav__link">
Portal Local Shopware Platform
</a>
</li>
<li class="md-nav__item">
<a href="../../../releases/changelog-package-http/"class="md-nav__link">
Package HTTP
</a>
</li>
<li class="md-nav__item">
<a href="../../../releases/changelog-package-web-frontend/"class="md-nav__link">
Package Web Frontend
</a>
</li>
<li class="md-nav__item">
<a href="../../../releases/changelog-package-shopware-6/"class="md-nav__link">
Package Shopware 6
</a>
</li>
<li class="md-nav__item">
<a href="../../../releases/changelog-storage-base/"class="md-nav__link">
Storage base
</a>
</li>
<li class="md-nav__item">
<a href="../../../releases/changelog-storage-shopware-dal/"class="md-nav__link">
Storage Shopware DAL
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a href="https://www.heptacom.de/heptaconnect/"class="md-nav__link">
Pricing
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary"data-md-component="sidebar"data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary"aria-label="Table of contents">
<label class="md-nav__title"for="__toc">
<span class="md-nav__icon md-icon"></span>
Table of contents
</label>
<ul class="md-nav__list"data-md-component="toc"data-md-scrollfix>
<li class="md-nav__item">
<a href="#preparation"class="md-nav__link">
Preparation
</a>
<nav class="md-nav"aria-label="Preparation">
<ul class="md-nav__list">
<li class="md-nav__item">
<a href="#situation"class="md-nav__link">
Situation
</a>
</li>
<li class="md-nav__item">
<a href="#pattern-detection"class="md-nav__link">
Pattern detection
</a>
</li>
<li class="md-nav__item">
<a href="#feature-isolation-and-exclusiveness"class="md-nav__link">
Feature isolation and exclusiveness
</a>
</li>
<li class="md-nav__item">
<a href="#introducing-the-new-flow-component"class="md-nav__link">
Introducing the new flow component
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a href="#common-implementation"class="md-nav__link">
Common implementation
</a>
<nav class="md-nav"aria-label="Common implementation">
<ul class="md-nav__list">
<li class="md-nav__item">
<a href="#stack"class="md-nav__link">
Stack
</a>
</li>
<li class="md-nav__item">
<a href="#stack-building"class="md-nav__link">
Stack building
</a>
</li>
<li class="md-nav__item">
<a href="#call-decoration"class="md-nav__link">
Call decoration
</a>
</li>
<li class="md-nav__item">
<a href="#context"class="md-nav__link">
Context
</a>
</li>
<li class="md-nav__item">
<a href="#flow-component-contract-class"class="md-nav__link">
Flow component contract class
</a>
</li>
<li class="md-nav__item">
<a href="#short-notation"class="md-nav__link">
Short notation
</a>
</li>
<li class="md-nav__item">
<a href="#code-origin-finder"class="md-nav__link">
Code origin finder
</a>
</li>
<li class="md-nav__item">
<a href="#portal-node-container"class="md-nav__link">
Portal node container
</a>
</li>
<li class="md-nav__item">
<a href="#flow-component-registry"class="md-nav__link">
Flow component registry
</a>
</li>
<li class="md-nav__item">
<a href="#factory"class="md-nav__link">
Factory
</a>
</li>
<li class="md-nav__item">
<a href="#actor"class="md-nav__link">
Actor
</a>
</li>
<li class="md-nav__item">
<a href="#service"class="md-nav__link">
Service
</a>
</li>
<li class="md-nav__item">
<a href="#jobs"class="md-nav__link">
Jobs
</a>
</li>
<li class="md-nav__item">
<a href="#job-handling"class="md-nav__link">
Job handling
</a>
</li>
<li class="md-nav__item">
<a href="#route-capability-usage"class="md-nav__link">
Route capability usage
</a>
</li>
<li class="md-nav__item">
<a href="#admin-ui"class="md-nav__link">
Admin UI
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a href="#summary"class="md-nav__link">
Summary
</a>
<nav class="md-nav"aria-label="Summary">
<ul class="md-nav__list">
<li class="md-nav__item">
<a href="#portal-base"class="md-nav__link">
Portal base
</a>
</li>
<li class="md-nav__item">
<a href="#core"class="md-nav__link">
Core
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content"data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="building-flow-components">Building flow components</h1>
<h2 id="preparation">Preparation</h2>
<p>This guide assumes you have been using HEPTAconnect as a <a href="../../portal-developer/">portal developer</a> or <a href="../../integrator/">integrator</a> before. A possible reason you are reading this is, that you are in a similar situation like the following and think of solving the issue within the HEPTAconnect framework.</p>
<h3 id="situation">Situation</h3>
<p>An existing flow component like the <a href="../../portal-developer/receiver/">receiver</a> gets multiple <a href="../../portal-developer/receiver-decoration/">receiver decorator implementations</a> to stop following receivers on the stack to take action. You see a pattern that all these changes in the reception stack are meant to prevent writing to an API and do a lookup instead.</p>
<p>The next steps are:</p>
<ul>
<li>to describe the pattern and locate it in its current situation</li>
<li>to isolate its features</li>
<li>to extract its exclusive features compared to existing flow components</li>
<li>to question its introduction into the next version</li>
</ul>
<h3 id="pattern-detection">Pattern detection</h3>
<p>The above detectable pattern is a reception decoration to lookup existing entries in a reception targeted portal node. It takes place within a <a href="../../../reference/general-resources/data-flow/">data flow</a> and introduces new behaviour that is not communicated by the receiver service contract. The new behaviour prevents writing and makes a data lookup instead. It can replace a reception and therefore be a new flow component.</p>
<h3 id="feature-isolation-and-exclusiveness">Feature isolation and exclusiveness</h3>
<p>The potential new flow component can only replace a receiver. This can also be turned into supporting readonly APIs without using a flow component that communicates writing in its description. A portal developer can use code separation to separate features and different usage. An administrator has a more flexible usage of the portal without additional configuration provided by the portal developer.</p>
<h3 id="introducing-the-new-flow-component">Introducing the new flow component</h3>
<p>Any existing setup should not behave differently, therefore using the new flow component needs to be optional. A name has to be chosen carefully to match its features and usage. In this case the name <code>Finder</code> has been chosen as flows are entity focused, and we try to find an entity in the targeted portal node. In addition to the component name we will name the namespace <code>Find</code> and the methods will use the verb <code>find</code> as well. As this flow component is intended to take part in a data flow we can use <a href="../../../reference/adr/2021-10-30-route-capabilities/">route capabilities</a> to configure its behaviour. New documentation on its usage for portal developer and administrator needs to be written. The new flow component should follow patterns in implementation that other flow components have in common.</p>
<h2 id="common-implementation">Common implementation</h2>
<h3 id="stack">Stack</h3>
<p>Flow component have certain properties, that allow to group them by. For example, receivers are grouped by their supported dataset entity and their portals and supporting portal extensions they are provided with. Based upon that, a portal and a portal extension can provide an implementation for a flow component that belong together and can influence each other. Their code origin influences their order in the stack. The order can be used to build an ordered stack out of it. This stack is used to pass a certain payload into it, pass through every layer in their respective order and allow each layer to modify a possible result that is returned at the end of the stack iteration. In the case of an <a href="../../portal-developer/emitter/">emitter</a> stack the payload is a set of identities and its return value are resolved entities. The flow components in a stack can intercept stack iteration to allow full influence of behaviour. The <code>next</code> method of the stack is the first entrypoint of a stack to start the layer iteration.</p>
<p><img alt=""src="../../../assets/uml/flow-component/finder-stack-call.svg"></p>
<h3 id="stack-building">Stack building</h3>
<p>The stack order and its overall contents can differ in each usage situation. To ensure reproducible order the building process is abstracted into its own service. The stack builder is aware of a source instance, that can be provided from a portal or a portal extension. This instance is the first in the order and is used in general as last entry in the stack. Every other instance on the stack is called a decorator and provided by portal extensions.</p>
<h3 id="call-decoration">Call decoration</h3>
<p>When the <code>next</code> method on the stack is called it has to call the <code>find</code> method of the first instance on the stack. The <code>find</code> method of the finder instance itself gets the current stack as argument and can now take over the control of the following <code>$stack-&gt;next()</code> call. This way a flow component can change the inbound payload, the result and break the execution.</p>
<h3 id="context">Context</h3>
<p>In addition to the omnipresent stack there is also the context. Each flow component type has its own context. The different contexts barely have anything in common and are specialized to provide functionality that only makes sense in usage of this specific flow component and cannot be provided by a service in the portal node container. For example, the context in an emission has the method <code>isDirectEmission</code> to allow knowledge about its usage like a <a href="../../portal-developer/direct-emission-explorer/">direct emission</a>. The <code>FindContext</code> could probably get information whether it is preceding a reception.</p>
<h3 id="flow-component-contract-class">Flow component contract class</h3>
<p>A contract class for a flow component always has at least three methods:</p>
<ul>
<li>supports</li>
<li>find</li>
<li>run</li>
</ul>
<p>The <code>supports</code> method represents every getter method that returns data to group a flow component instance by. It is neither aware of the context nor the stack as it will be used to prepare both of these. Every implementation of a flow component needs to provide the information about its supported topic or dataset entity.</p>
<p>The <code>find</code> method has already been introduced in the <a href="#stack">stack explanation</a>. It is named to the verb of the component and therefore varies between the different flow components. It needs to be pre-implemented to chain as described so a portal developer does not need to implement it. The portal developer still needs to be able to override its implementation as this method is controlling the processing flow through the stack.</p>
<p>The <code>run</code> method has to have a signature that allows for a possible implementation with the least needed instructions to take effect. This is the first entrypoint a portal developer will look for and has to enable the developer to see effects quickly. The first entrypoint does not need to be the most efficient way but the most efficient way needs to possible and should be less complex than implementing <code>next</code> yourself. A suitable example is the <code>\Heptacom\HeptaConnect\Portal\Base\Reception\Contract\ReceiverContract</code> it has a <code>run</code> and <code>batch</code> method, that allows to implement both scenarios but works out of the box independently whether <code>run</code> or <code>batch</code> is implemented.</p>
<h3 id="short-notation">Short notation</h3>
<p>The <a href="../../../reference/adr/2021-06-17-flow-component-short-notation/">short notation</a> provides a different way to implement the flow component contract class. For every overridable method of the <code>FinderContract</code> except <code>find</code> the portal developer shall be able to provide a closure as implementation. The signature of these closures can have a custom rule set and must not be limited to the respective signature of the method in the contract to allow <a href="../../portal-developer/dependency-injection/">dependency injection</a> by the portal node container.</p>
<p>All closures are collected in a token. The token class <code>FinderToken</code> has no features beside storing closures.</p>
<p>To provide a fluent interface for portal developers to configure the token a builder class is needed. All methods of the flow component specific builder need to be named the same as in the flow component contract class so its usage is the very similar to implementing the contract class. Each method will store the parameters in the wrapped token instance and return itself to ensure a fluent usage.</p>
<p>To execute the closures in the token we need a generic implementation of the contract. It will take the token in the constructor and execute each callback in the respective duplicated methods. At this place you have to analyze the parameters of the token's closure and lookup any services from the service container. This also allows custom rules to take effect. As an example we can look into the <code>EmitterContract</code>: when you forward the <code>run</code> method to the closure you can also resolve a string parameter called <code>externalId</code> to be the previous parameter <code>$externalId</code> from the <code>run</code> method.</p>
<p>To access the new builder component the <code>\Heptacom\HeptaConnect\Portal\Base\Builder\FlowComponent</code> facade needs to provide a factory method named like the new flow component, so it can be used in short notation files. It will also need to factorize the flow components.</p>
<h3 id="code-origin-finder">Code origin finder</h3>
<p>Reasonable log messages are crucial. Therefore, whenever HEPTAconnect is aware of a flow component being part of the log message's context, the file the flow component is written in is logged as well. This feature is not possible without a <code>FinderCodeOriginFinder</code>. It can differentiate between a token based implementation of the <code>FinderContract</code> and an object-oriented implementation. The token based implementation needs to evaluate the source of the closures in the token instead of the class implementations' source file. The new code origin finder class can now be used along with the others in the <code>\Heptacom\HeptaConnect\Core\Component\Logger\FlowComponentCodeOriginFinderLogger</code> to improve log messages.</p>
<h3 id="portal-node-container">Portal node container</h3>
<p>Building the portal node container has a big impact on the usage of the newly created flow component. It loads the short notation files and detects all implementations of the new contract class to propagate their existences. This has to be implemented by scanning all implementations and pass the service references to the <code>\Heptacom\HeptaConnect\Core\Portal\FlowComponentRegistry</code>.</p>
<h3 id="flow-component-registry">Flow component registry</h3>
<p>The flow component registry is the central place of a portal node container to supply all flow components for a portal node. Therefore, a getter method for instances of the new flow component must be added to the registry. This new getter will rely on the new parameter in the constructor and the newly found services in the portal node container.</p>
<h3 id="factory">Factory</h3>
<p>As the context and the stack building are specialized for situations, factories are essential tooling. These factories are not accessible by portals. The <code>FinderStackBuilderFactory</code> will load a portal node container and request the finder flow component instances from the flow component registry. Now the stack builder has everything to work with later on.</p>
<h3 id="actor">Actor</h3>
<p>Most of the previous parts are taking place in the portal base package. Everything is ready for portals and extensions to use the new flow component. The next big step is to teach the core package what to do with the new flow component. The service that will actually work with the new flow components is an actor, the <code>FindActor</code>. Its implementation precisely knows how to process a stack properly. The <code>performFind</code> method of this service looks similar to a contract class <code>find</code> as it does not create the stack and context it will work with later. An actor often validates incoming data (e.g. does not forward to the stack at all when empty), triggers different actions like follow-up flows.</p>
<h3 id="service">Service</h3>
<p>The main entrypoint for every execution of the new flow component is its own service.
<code>FindService</code> will take as few arguments as needed to build a stack, create a context and execute the <code>FindActor</code>.</p>
<h3 id="jobs">Jobs</h3>
<p>HEPTAconnect can outsource flow component processing as jobs in different processes (commonly on different machines). To support this we need to introduce a job for the new flow component. Job classes need to be based upon <code>\Heptacom\HeptaConnect\Core\Job\Contract\JobContract</code>. Instances of a job class contain all infos that is needed to process a job. In the best scenarios a job is only aware of an identity. In our scenario we want to behave similar to the reception and therefore also need the entity to lookup later. The entity will be part of the payload of the <code>Find</code> job. Instances of these job type instances can now be dispatched using the <code>\Heptacom\HeptaConnect\Core\Job\Contract\JobDispatcherContract</code>. Its implementation ensures forwarding the job and its payload to be used in other process like a message queue or a child PHP process.</p>
<h3 id="job-handling">Job handling</h3>
<p>The job has been dispatched to be handled separately from the current PHP process. When the job is ready to execute, it needs to be handled. The <code>FindJobHandler</code> will track the job processing state, read the jobs' payload and pass the job payload to the <code>FindService</code>. On finishing the <code>Find</code> job, a follow-up <code>Reception</code> job should be generated, when the route capability allows it.</p>
<h3 id="route-capability-usage">Route capability usage</h3>
<p>Now we are about to finish the initial task. The storages need to know about the new route capability. We designed it to be optional and name it <code>find</code>. Right before <code>Reception</code> jobs will be dispatched, we decide to <a href="../build-storage-actions/">ask the storage for the route capability</a> and dispatch a <code>Find</code> job instead. There is no functionality lost as the <code>Find</code> job will be able to generate a follow-up <code>Reception</code> job.</p>
<h3 id="admin-ui">Admin UI</h3>
<p>Often it is useful to have certain utilities for the administrator. In this scenario you only have to make sure the new route capability is available in the storage implementations, but the admin UI is already able to display the route capability. It is probably that your new flow component will be part of the admin UI.</p>
<h2 id="summary">Summary</h2>
<h3 id="portal-base">Portal base</h3>
<p>We need to provide contracts for the portal developer to use. You are most likely having a file structure of new files like this:</p>
<pre class="highlight"><code>&lt;portal-base-source&gt;
├── Builder
│   ├── Builder
│   │   └── FinderBuilder.php
│   ├── Component
│   │   └── Finder.php
│   └── Token
│       └── FinderToken.php
└── Find
    ├── Contract
    │   ├── FindContextInterface.php
    │   ├── FinderCodeOriginFinderInterface.php
    │   ├── FinderContract.php
    │   └── FinderStackInterface.php
    ├── FinderCollection.php
    └── FinderStack.php</code></pre>
<h3 id="core">Core</h3>
<p>The actual usage of the new flow component needs to be handled within the core. You are most likely having a file structure of new files like this:</p>
<pre class="highlight"><code>&lt;core-source&gt;
├── Find
│   ├── Contract
│   │   ├── FindActorInterface.php
│   │   ├── FindContextFactoryInterface.php
│   │   ├── FindServiceInterface.php
│   │   ├── FinderStackBuilderFactoryInterface.php
│   │   └── FinderStackBuilderInterface.php
│   ├── FindActor.php
│   ├── FindContext.php
│   ├── FindContextFactory.php
│   ├── FindService.php
│   ├── FinderCodeOriginFinder.php
│   ├── FinderStackBuilder.php
│   └── FinderStackBuilderFactory.php    
└── Job
    ├── Contract
    │   └── FindHandlerInterface.php
    ├── Handler
    │   └── FindHandler.php
    └── Type
        └── Find.php    </code></pre>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<nav class="md-footer__inner md-grid"aria-label="Footer">
<a href="../changelog/"class="md-footer__link md-footer__link--prev"aria-label="Previous: Writing changelogs"rel="prev">
<div class="md-footer__button md-icon">
<svg xmlns="http://www.w3.org/2000/svg"viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
Previous
</span>
Writing changelogs
</div>
</div>
</a>
<a href="../build-storage-actions/"class="md-footer__link md-footer__link--next"aria-label="Next: Build storage actions"rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
Next
</span>
Build storage actions
</div>
</div>
<div class="md-footer__button md-icon">
<svg xmlns="http://www.w3.org/2000/svg"viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<a class="heptaconnect-footer-download"href="/HEPTAconnect.pdf"download="HEPTAconnect.pdf">
<span>
Download complete PDF
</span>
<svg xmlns="http://www.w3.org/2000/svg"viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M0 64C0 28.7 28.7 0 64 0h160v128c0 17.7 14.3 32 32 32h128v144H176c-35.3 0-64 28.7-64 64v144H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0l128 128zM176 352h32c30.9 0 56 25.1 56 56s-25.1 56-56 56h-16v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24h-16v48h16zm96-80h32c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48h-32c-8.8 0-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16v-64c0-8.8-7.2-16-16-16h-16v96h16zm80-112c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16h-32v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V368z"/></svg>
</a>
<div class="heptaconnect-footer-copyright">
<div class="md-footer-copyright__highlight">
Made with <span style="color: #fff">❤️ </span>&nbsp;by <a href="https://www.heptacom.de">HEPTACOM</a>
</div>
</div>
<div class="heptaconnect-footer-privacy">
<a href="https://www.heptacom.de/datenschutz/">Privacy</a>
</div>
<div class="heptaconnect-footer-imprint">
<a href="https://www.heptacom.de/impressum/">Imprint</a>
</div>
<div class="md-social">
<a href="https://github.com/topics/heptaconnect"target="_blank"rel="noopener"title="github.com"class="md-social__link">
<svg xmlns="http://www.w3.org/2000/svg"viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</a>
<a href="https://twitter.com/heptacom_gmbh"target="_blank"rel="noopener"title="twitter.com"class="md-social__link">
<svg xmlns="http://www.w3.org/2000/svg"viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
</a>
<a href="/news/"target="_blank"rel="noopener"title=""class="md-social__link">
<svg xmlns="http://www.w3.org/2000/svg"viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h320c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm32 104c0-13.3 10.7-24 24-24 137 0 248 111 248 248 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-110.5-89.5-200-200-200-13.3 0-24-10.7-24-24zm0 96c0-13.3 10.7-24 24-24 83.9 0 152 68.1 152 152 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-57.4-46.6-104-104-104-13.3 0-24-10.7-24-24zm0 120a32 32 0 1 1 64 0 32 32 0 1 1-64 0z"/></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog"data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config"type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.footer", "search.suggest", "search.highlight", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": ""}, "version": null}</script>
<script src="../../../assets/javascripts/bundle.220ee61c.min.js"></script>
<script src="../../../assets/javascripts/vendor/highlight.js/highlight.min.js"></script>
<script src="../../../assets/javascripts/config.js"></script>
</body>
</html>